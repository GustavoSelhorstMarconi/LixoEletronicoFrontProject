<div class="card flex mt-8 justify-content-center">
    <p-card class="col-6">
        <h2 class="text-center">
            <i class="pi pi-user text-3xl"></i>
            <div class="mt-3">Cadastrar</div>
        </h2>
        <form (submit)="onSubmit()" [formGroup]="formPerson">
            <div class="flex flex-column gap-2">
                <label>Nome:</label>
                <input type="text" pInputText class="p-inputtext-sm" placeholder="Digite seu nome" formControlName="name"
                [class.error]="formPerson.get('name')?.hasError('required') && formPerson.get('name')?.touched"/>
            </div>

            <div class="flex flex-column gap-2 mt-3">
                <label>E-mail:</label>
                <input type="text" pInputText class="p-inputtext-sm" placeholder="Digite seu e-mail" formControlName="email"
                [class.error]="formPerson.get('email')?.hasError('required') && formPerson.get('email')?.touched">
            </div>

            <div class="flex flex-column gap-2 mt-3">
                <label>Senha:</label>
                <div class="relative">
                    <input [type]="iconShowPassword ? 'password' : 'text'" id="password" pInputText [style]="{paddingRight: '2rem'}" class="p-inputtext-sm w-full" formControlName="password"
                    [class.error]="formPerson.get('password')?.hasError('required') && formPerson.get('password')?.touched">

                    @if (iconShowPassword) {
                        <i class="absolute icon pi pi-eye" (click)="iconShowPassword = !iconShowPassword"></i>
                    }
                    @else {
                        <i class="absolute icon pi pi-eye-slash" (click)="iconShowPassword = !iconShowPassword"></i>
                    }
                </div>
            </div>

            <div class="flex flex-column gap-2 mt-3">
                <label>Confirmar senha:</label>
                <div class="relative">
                    <input [type]="iconShowConfirmPassword ? 'password' : 'text'" pInputText [style]="{paddingRight: '2rem'}" class="p-inputtext-sm w-full" formControlName="confirmPassword"
                    [class.error]="formPerson.get('confirmPassword')?.hasError('mustMatchField') && formPerson.get('password')?.touched"/>

                    @if (iconShowConfirmPassword) {
                        <i class="absolute icon pi pi-eye" (click)="iconShowConfirmPassword = !iconShowConfirmPassword"></i>
                    }
                    @else {
                        <i class="absolute icon pi pi-eye-slash" (click)="iconShowConfirmPassword = !iconShowConfirmPassword"></i>
                    }

                </div>
            </div>

            <div class="justify-content-start mt-3">
                <p-checkbox [binary]="true" formControlName="isRepresentant"></p-checkbox>
                <label class="ml-2">Representante</label>
            </div>

            <div class="card flex justify-content-end align-items-center text-sm">
                <a (click)="changeToLogin()" class="cursor-pointer text-blue-500 hover:underline">
                    <b>JÃ¡ possui conta? Entrar</b>
                </a>
                <p-button [label]="textSaveButton" class="ml-3" size="small" (onClick)="onSubmit()" [outlined]="true"></p-button>
            </div>
        </form>
    </p-card>
    <p-toast></p-toast>
</div>